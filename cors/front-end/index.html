<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CORS Test Client</title>
  </head>
  <body>
    <script>
      /**
       * 1. fetch 요청 발생 (브라우저 -> 서버)
       * - 현재 이 HTML 파일은 'http://127.0.0.1:5500'에서 실행 중이라고 가정. (Origin)
       * - 요청을 보내는 목적지는 'http://localhost:8080' (Target)
       * * 중요: 포트 번호가 다르기 때문에(5500 vs 8080) 브라우저는 이를 '다른 출처(Cross-Origin)'로 인식.
       * 따라서 브라우저는 보안을 위해 서버에게 "나(5500) 이거 가져가도 돼?"라고 확인하는 과정을 거침.
       */
      fetch('http://localhost:8080/', { method: 'GET' })
        .then(console.log) // 4. 허락받으면 응답 성공! 콘솔에 결과 출력
        .catch(console.error); // 5. CORS 설정이 없으면 여기서 'CORS policy' 에러 발생
    </script>
  </body>
</html>
